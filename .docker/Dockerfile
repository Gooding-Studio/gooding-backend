FROM openjdk:17-oracle
ARG JAR_FILE=gooding-1.0.0.0.jar
ENV SPRING_MASTER_DATASOURCE_URL=${SPRING_MASTER_DATASOURCE_URL} \
SPRING_MASTER_DATASOURCE_USERNAME=${SPRING_MASTER_DATASOURCE_USERNAME} \
SPRING_MASTER_DATASOURCE_PASSWORD=${SPRING_MASTER_DATASOURCE_PASSWORD} \
SPRING_SLAVE_DATASOURCE_URL=${SPRING_SLAVE_DATASOURCE_URL} \
SPRING_SLAVE_DATASOURCE_USERNAME=${SPRING_SLAVE_DATASOURCE_USERNAME} \
SPRING_SLAVE_DATASOURCE_PASSWORD=${SPRING_SLAVE_DATASOURCE_PASSWORD} \
JWT_SECRET_KEY=${JWT_SECRET_KEY} \
REDIS_HOST=${REDIS_HOST} \
REDIS_PORT=${REDIS_PORT} \
AWS_ENDPOINT=${AWS_ENDPOINT} \
AWS_ACCESS_KEY=${AWS_ACCESS_KEY} \
AWS_SECRET_KEY=${AWS_SECRET_KEY} \
S3_BUCKET_NAME=${S3_BUCKET_NAME} \
KAKAO_CLIENT_ID=${KAKAO_CLIENT_ID} \
KAKAO_CLIENT_SECRET=${KAKAO_CLIENT_SECRET} \
KAKAO_REDIRECT_URI=${KAKAO_REDIRECT_URI} \
GOOGLE_EMAIL=${GOOGLE_EMAIL} \
GOOGLE_APP_PASSWORD=${GOOGLE_APP_PASSWORD}
COPY ${JAR_FILE} gooding.jar
ENTRYPOINT ["java", "-jar", "/gooding.jar"]